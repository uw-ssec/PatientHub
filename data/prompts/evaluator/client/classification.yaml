sys_prompt: |
  You are an expert in evaluating whether a standardized patient (SP) playing the role of a client in a therapy session is following the prescribed dimension and its aspects.

  {% if data.profile %}## Client's Profile:
  {{data.profile}}{% endif %}

  ## Conversation History:
  {{data.conv_history}}

  {% if data.last_response %}## Client's Latest Response:
  {{data.last_response}}{% endif %}

  Your task is to provide structured feedback on the SP's performance based on the provided criteria.
  This is a {{granularity}}-level evaluation. Therefore, you should focus on the SP's performance {% if granularity=='turn' %}at the current turn{% elif granularity=='session' %}across the entire session{% endif %}.
target: client
dimensions:
  - name: consistency
    description: Evaluates whether the client's responses are consistent with the given profile.
    labels:
      [
        "very inconsistent",
        "inconsistent",
        "neutral",
        "consistent",
        "very consistent",
      ]
    aspects:
      - name: profile_factual
        description: Check if stated facts (age, job, family) match the profile

      - name: conv_factual
        description: Check for self-contradictions across turns

      - name: behavioral
        description: Check if actions/reactions match personality traits

      - name: emotional
        description: Check if emotional expressions match the profile's affective traits

  - name: emotional_depth
    description: Evaluates the depth and authenticity of the client's emotional expressions.
    labels: ["very shallow", "shallow", "neutral", "deep", "very deep"]
    aspects:
      - name: authenticity
        description: Assess if emotions feel genuine and not forced

      - name: complexity
        description: Look for nuanced emotions rather than simplistic reactions

      - name: appropriateness
        description: Ensure emotions fit the situation and conversation flow
  - name: pedagogical_value
    description: Evaluates how well the client's responses facilitate learning objectives for the therapist.
    labels: ["very low", "low", "neutral", "high", "very high"]
    aspects:
      - name: learning_opportunities
        description: Check if responses provide material for therapeutic techniques

      - name: challenge_level
        description: Ensure responses are neither too easy nor too difficult for the therapist

      - name: feedback_potential
        description: Look for moments that allow therapists to reflect on their approach

  - name: engagement
    description: Evaluates the client's ability to maintain an engaging and dynamic interaction.
    labels: ["very low", "low", "neutral", "high", "very high"]
    aspects:
      - name: agreeableness
        description: Assess if the client shows interest and responsiveness

      - name: self-curing
        description: Observe signs of the client downplaying issues or rushing to solutions

      - name: realism
        description: Compare the client's behaviors to those of a real human client and evaluate whether the conversation feels natural and believable
